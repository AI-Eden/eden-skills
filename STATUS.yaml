schema_version: 1
updated_at: "2026-02-20"
project:
  name: eden-skills
  phase: phase25_mvp_launch
  status: active_implementation

authority_order:
  - spec
  - status_yaml
  - execution_tracker
  - roadmap
  - readme

phase1:
  mandatory_commands:
    plan: implemented
    apply: implemented
    doctor: implemented
    repair: implemented
  safety_gate_mechanics:
    implemented: true
    includes:
      - safety_metadata_persistence
      - risk_label_detection
      - no_exec_metadata_only_enforcement
  doctor_contract_hardening:
    strict_non_strict_payload_parity: implemented
    json_required_fields_mixed_findings: implemented
  source_sync_hardening:
    deterministic_summary_reporting: implemented
    stage_diagnostics_clone_fetch_checkout: implemented
    multiskill_partial_failure_aggregation: implemented
    strict_mode_precedence_over_conflict_exit: implemented
  no_exec_verify_interactions:
    mixed_skill_verify_skip_scoping: implemented
    strict_conflict_ignores_no_exec_conflicts: implemented
  strict_verify_precedence_hardening:
    apply_repair_precedence_parity: implemented
    strict_conflict_precedes_post_mutation_verify: implemented
  closeout_audit:
    builder_phase1:
      completed: true
      completed_at: "2026-02-13"
      verified:
        - command_spec_parity
        - traceability_completeness
        - test_matrix_consistency
  test_matrix:
    covered: 7
    total: 7
    missing: []
  ci:
    workflow_defined: true
    linux_macos_smoke_configured: true
    windows_smoke_configured: true
    hosted_run_verified: true
    hosted_run_reference:
      workflow: CI
      run_id: 22000208004
      run_url: https://github.com/AI-Eden/eden-skills/actions/runs/22000208004
      branch: main
      event: push
      completed_at: "2026-02-13T19:36:41Z"
    windows_hosted_run_verified: true
    windows_hosted_run_reference:
      workflow: CI
      run_id: 22139248260
      run_url: https://github.com/AI-Eden/eden-skills/actions/runs/22139248260
      job_name: cargo test (windows-latest)
      job_url: https://github.com/AI-Eden/eden-skills/actions/runs/22139248260/job/63998896303
      branch: main
      event: push
      completed_at: "2026-02-18T12:15:21Z"

ownership:
  builder:
    model: gpt-5-codex
    scope:
      - rust_cli_implementation
      - tests_and_refactors
      - non_strategic_doc_sync
  architect:
    model: claude_opus
    scope:
      - taxonomy_model
      - curation_rubric
      - crawler_strategy_rfc

phase2:
  contracts_frozen: true
  frozen_at: "2026-02-18"
  frozen_by: architect_claude_opus
  spec_files:
    - spec/phase2/SPEC_REACTOR.md
    - spec/phase2/SPEC_ADAPTER.md
    - spec/phase2/SPEC_REGISTRY.md
    - spec/phase2/SPEC_SCHEMA_EXT.md
    - spec/phase2/SPEC_COMMANDS_EXT.md
    - spec/phase2/SPEC_TEST_MATRIX.md
    - spec/phase2/SPEC_TRACEABILITY.md
  freeze_candidates_resolved: 20
  open_questions_resolved: 5
  requirement_ids:
    architecture: ARC-001~ARC-008, ARC-101~ARC-110, ARC-201~ARC-207
    schema: SCH-P2-001~SCH-P2-006
    commands: CMD-P2-001~CMD-P2-006
  adrs: ADR-001~ADR-009
  test_scenarios: TM-P2-001~TM-P2-033
  builder_entry_criteria:
    all_reqs_understood: true
    no_phase1_breaking_changes: true
    requirement_ids_unique: true
    p0_verification_complete: true
    english_only: true
    all_design_questions_resolved: true
  builder_tracks:
    track_a_windows:
      description: "Phase 1 code-only Windows fixes. No Phase 2 dependency. SHOULD start immediately."
      tasks: WIN-001~WIN-005
      gate: WIN-001~004 must pass before WIN-005
      parallel_with: track_b
    track_b_phase2:
      description: "Phase 2 architecture implementation. Depends on frozen contracts."
      priority_order:
        - P0_reactor: ARC-001, ARC-002, ARC-005, ARC-006, ARC-008
        - P0_adapter: ARC-101, ARC-102, ARC-103, ARC-106, ARC-108, ARC-109
        - P0_registry: ARC-201, ARC-202, ARC-207
        - P0_schema: SCH-P2-001, SCH-P2-002, SCH-P2-003, SCH-P2-004, SCH-P2-006
        - P0_commands: CMD-P2-001, CMD-P2-002, CMD-P2-003
        - P1_all: ARC-003, ARC-004, ARC-007, ARC-104, ARC-105, ARC-107, ARC-110, ARC-203, ARC-204, ARC-205, ARC-206, SCH-P2-005, CMD-P2-004, CMD-P2-005, CMD-P2-006
    cross_track_dependency:
      - ARC-109_depends_on: WIN-001
  builder_progress:
    batch_1_track_a_win_001_004:
      status: completed
      completed_at: "2026-02-18"
      notes:
        - WIN-001 implemented with HOME -> USERPROFILE fallback and test coverage
        - WIN-002 fixed Category A /tmp filesystem tests for portability
        - WIN-003 verified Category B /tmp placeholders are string-only
        - "WIN-004 added #[cfg(windows)] parity tests and Windows ACL helpers"
      quality_gate:
        fmt_check: passed
        clippy_workspace_deny_warnings: passed
        test_workspace: passed
    batch_2_track_a_win_005:
      status: completed
      completed_at: "2026-02-18"
      gate: WIN-001~004 completed and stable
      notes:
        - windows-latest enabled in .github/workflows/ci.yml matrix
        - local gate passed and hosted Windows CI run verified
      hosted_run_reference:
        workflow: CI
        run_id: 22139248260
        run_url: https://github.com/AI-Eden/eden-skills/actions/runs/22139248260
        job_name: cargo test (windows-latest)
        job_url: https://github.com/AI-Eden/eden-skills/actions/runs/22139248260/job/63998896303
        completed_at: "2026-02-18T12:15:21Z"
    batch_3_track_b_p0_reactor:
      status: completed
      completed_at: "2026-02-18"
      requirements: ARC-001, ARC-002, ARC-005, ARC-006, ARC-008
      notes:
        - tokio runtime enabled at CLI entrypoint with async command dispatch for network I/O phases
        - SkillReactor implemented with JoinSet + Semaphore bounded concurrency (default 10)
        - two-phase execution barrier implemented in reactor and reflected in apply/repair phase ordering
        - sync git clone/fetch/checkout moved behind tokio spawn_blocking via reactor run_blocking
        - phase2 domain errors added with thiserror (ReactorError/AdapterError/RegistryError) without anyhow in core APIs
      quality_gate:
        fmt_check: passed
        clippy_workspace_deny_warnings: passed
        test_workspace: passed
    batch_4_track_b_p0_adapter:
      status: completed
      completed_at: "2026-02-18"
      requirements: ARC-101, ARC-102, ARC-103, ARC-106, ARC-108, ARC-109
      notes:
        - added Phase 2 adapter module with TargetAdapter async trait contract (Send + Sync bounds)
        - implemented LocalAdapter for local health/path/install/exec behavior with cross-platform symlink handling
        - implemented DockerAdapter using docker CLI calls via tokio process execution with health/install/exec/path checks
        - implemented deterministic adapter environment parsing and factory selection from local/docker:<container>
        - added adapter-focused tests covering trait spawnability, LocalAdapter parity, DockerAdapter install/health, invalid environment, and missing Docker CLI
      quality_gate:
        fmt_check: passed
        clippy_workspace_deny_warnings: passed
        test_workspace: passed
    batch_5_track_b_p0_registry:
      status: completed
      completed_at: "2026-02-18"
      requirements: ARC-201, ARC-202, ARC-207
      notes:
        - added Phase 2 registry core module with multi-registry spec parsing and deterministic priority sorting
        - added priority-based registry skill resolution using first-character index bucket lookup
        - added SemVer-based version selection using semver crate (exact, caret, tilde, range, wildcard) with yanked filtering
        - added registry-focused tests for config parsing, priority fallback resolution, and SemVer constraint matching
      quality_gate:
        fmt_check: passed
        clippy_workspace_deny_warnings: passed
        test_workspace: passed
    batch_6_track_b_p0_schema_commands:
      status: completed
      completed_at: "2026-02-18"
      requirements: SCH-P2-001, SCH-P2-002, SCH-P2-003, SCH-P2-004, SCH-P2-006, CMD-P2-001, CMD-P2-002, CMD-P2-003
      notes:
        - extended config parsing for [registries], Mode B skills, and target environment (default local)
        - enforced Phase 2 schema validation codes INVALID_SKILL_MODE, MISSING_REGISTRIES, UNKNOWN_REGISTRY, INVALID_SEMVER, INVALID_ENVIRONMENT, DUPLICATE_SKILL_ID
        - implemented update command with concurrent registry sync, partial-failure tolerance, and summary output
        - implemented install command to resolve registry skills by name and persist Mode B entries to skills.toml
        - wired apply and repair to resolve Mode B skills from cached registries before source sync
        - added Batch 6 test suites phase2_schema_tests and phase2_commands
      quality_gate:
        fmt_check: passed
        clippy_workspace_deny_warnings: passed
        test_workspace: passed
    batch_7_track_b_p1_all:
      status: completed
      completed_at: "2026-02-19"
      requirements: ARC-003, ARC-004, ARC-007, ARC-104, ARC-105, ARC-107, ARC-110, ARC-203, ARC-204, ARC-205, ARC-206, SCH-P2-005, CMD-P2-004, CMD-P2-005, CMD-P2-006
      notes:
        - extended schema parsing with `[reactor].concurrency` default/range validation and stable INVALID_CONCURRENCY diagnostics
        - wired global `--concurrency` override precedence for `apply`/`repair`/`update` and added install dry-run no-side-effect execution path
        - added doctor Phase 2 findings for registry staleness and docker target diagnostics (`REGISTRY_STALE`, `DOCKER_NOT_FOUND`, `ADAPTER_HEALTH_FAIL`)
        - hardened registry P1 behavior with local sync markers, shallow clone verification, manifest warning fallback, and offline-cache resolution/no-cache actionable failure coverage
        - added cancellation-aware reactor phase execution (`CancellationToken`) with partial result reporting
        - added `TargetAdapter::uninstall` (Local + Docker) and remove-time target cleanup; added Windows symlink privilege remediation hints in adapter/CLI symlink paths
      quality_gate:
        fmt_check: passed
        clippy_workspace_deny_warnings: passed
        test_workspace: passed
  closeout_audit:
    builder_phase2:
      status: completed
      completed_at: "2026-02-19"
      remaining_index: spec/phase2/PHASE2_BUILDER_REMAINING.md
      completed_items:
        - P2-CLOSE-001 (Windows CI blocker fixed via TOML-safe file URL normalization + regression test in phase2_commands; hosted matrix verified in run 22176017545)
        - P2-CLOSE-002 (all remaining planned TM-P2 scenarios fully implemented, including prior hardening deferrals TM-P2-015/TM-P2-027/TM-P2-029)
        - P2-CLOSE-003 (README/ROADMAP/STATUS/TRACKER phase-state wording synchronized)
      hosted_run_reference:
        workflow: CI
        run_id: 22176017545
        run_url: https://github.com/AI-Eden/eden-skills/actions/runs/22176017545
        branch: main
        event: push
        jobs:
          - cargo test (ubuntu-latest)
          - cargo test (macos-latest)
          - cargo test (windows-latest)
      deferred_followups: []

phase25:
  status: active_implementation
  started_at: "2026-02-20"
  spec_files:
    - spec/phase2.5/SPEC_INSTALL_URL.md
    - spec/phase2.5/SPEC_SCHEMA_P25.md
    - spec/phase2.5/SPEC_AGENT_DETECT.md
    - spec/phase2.5/SPEC_CLI_UX.md
    - spec/phase2.5/SPEC_DISTRIBUTION.md
    - spec/phase2.5/SPEC_TEST_MATRIX.md
    - spec/phase2.5/SPEC_TRACEABILITY.md
  builder_progress:
    batch_1_ws_1_ws_2_schema_init:
      status: completed
      completed_at: "2026-02-20"
      requirements: SCH-P25-001, SCH-P25-002, SCH-P25-003
      scenarios: TM-P25-001, TM-P25-002, TM-P25-003, TM-P25-004, TM-P25-005
      notes:
        - relaxed schema validation to allow empty or omitted skills array
        - updated init template to minimal config without bootstrap dummy skill
        - aligned plan/apply behavior for empty config flow and adjusted lifecycle baseline tests
      quality_gate:
        fmt_check: passed
        clippy_workspace_deny_warnings: passed
        test_workspace: passed
    batch_2_ws_3_part1_install_url_core:
      status: completed
      completed_at: "2026-02-20"
      requirements: MVP-001, MVP-002, MVP-003, MVP-004, MVP-005, MVP-006, MVP-007, MVP-008
      scenarios: TM-P25-006, TM-P25-007, TM-P25-008, TM-P25-009, TM-P25-010, TM-P25-011, TM-P25-012, TM-P25-013, TM-P25-014, TM-P25-015
      notes:
        - added source format detection module with precedence rules and GitHub shorthand/tree parsing
        - extended install command with URL-mode branch while preserving existing registry-mode behavior
        - implemented local path install flow without git clone plus id derivation/override/upsert and config auto-creation
        - expanded validation to accept absolute local source paths in config
      quality_gate:
        fmt_check: passed
        clippy_workspace_deny_warnings: passed
        test_workspace: passed
    batch_3_ws_3_part2_install_discovery_selection:
      status: completed
      completed_at: "2026-02-20"
      requirements: MVP-009, MVP-010, MVP-011, MVP-012, MVP-013, MVP-014, MVP-015
      scenarios: TM-P25-016, TM-P25-017, TM-P25-018, TM-P25-019, TM-P25-020, TM-P25-021, TM-P25-022, TM-P25-023, TM-P25-024, TM-P25-025
      notes:
        - added SKILL.md discovery module supporting root, skills/*, and packages/* search scope
        - implemented URL local-path multi-skill selection flow with --list, --all, and repeated --skill flags
        - added TTY-aware interactive confirmation flow and non-TTY default-all behavior
        - preserved single-skill direct install path and no-SKILL fallback warning/install-as-directory behavior
        - finalized follow-up parity for remote URL sources (multi-skill discovery/selection and list no-side-effects)
        - implemented interactive summary truncation when discovered skills exceed 8 entries
      quality_gate:
        fmt_check: passed
        clippy_workspace_deny_warnings: passed
        test_workspace: passed
    batch_4_ws_4_agent_auto_detection:
      status: completed
      completed_at: "2026-02-20"
      requirements: AGT-001, AGT-002, AGT-003, AGT-004
      scenarios: TM-P25-026, TM-P25-027, TM-P25-028, TM-P25-029, TM-P25-030
      notes:
        - added core agent detection module with data-driven directory rules for claude, cursor, codex, and windsurf
        - wired URL-mode install to auto-detect targets when --target is omitted
        - preserved registry-mode install target semantics and scoped override parsing by source mode
        - added fallback warning and default claude-code target when no known agent directories are found
      quality_gate:
        fmt_check: passed
        clippy_workspace_deny_warnings: passed
        test_workspace: passed
    batch_5_ws_7_cli_ux_beautification:
      status: completed
      completed_at: "2026-02-20"
      requirements: UX-001, UX-002, UX-003, UX-004, UX-005, UX-006, UX-007
      scenarios: TM-P25-031, TM-P25-032, TM-P25-033, TM-P25-034
      notes:
        - added shared CLI UI module for color policy, status symbols, spinner lifecycle, and interactivity gating
        - integrated URL install remote clone spinner and completion status rendering in TTY human mode
        - added environment precedence handling for NO_COLOR, FORCE_COLOR, and CI with non-TTY fallback behavior
        - preserved install JSON payload shape and gated non-JSON side-output lines in JSON mode
        - stabilized interactive TTY tests by isolating CI environment from prompt-path fixtures
      quality_gate:
        fmt_check: passed
        clippy_workspace_deny_warnings: passed
        test_workspace: passed
    post_batch_5_ws3_discovery_compatibility_hardening:
      status: completed
      completed_at: "2026-02-20"
      requirements: MVP-009, MVP-012
      scenarios: TM-P25-023, TM-P25-037, TM-P25-038, TM-P25-039, TM-P25-040
      notes:
        - applied P0 hotfix to prevent root-directory fallback when explicit --skill selection fails
        - expanded discovery coverage to ecosystem agent-convention parent directories with deduplication
        - added plugin-manifest-based discovery for .claude-plugin marketplace and plugin manifests
        - added bounded recursive fallback discovery (max depth 6, max results 256, skip .git)
        - synchronized Phase 2.5 spec and traceability docs with implemented discovery behavior
      quality_gate:
        fmt_check: passed
        clippy_workspace_deny_warnings: passed
        test_workspace: passed
    post_batch_5_default_config_bootstrap_hardening:
      status: completed
      completed_at: "2026-02-20"
      requirements: MVP-008
      scenarios: TM-P25-030, TM-P25-041
      notes:
        - aligned default config path to ~/.eden-skills/skills.toml across CLI and specs/docs
        - install now auto-creates missing parent directory for default config path bootstrap
        - preserved missing-parent IO failure for non-default --config paths as typo guard
        - added install URL regression coverage for default-path parent auto-creation
      quality_gate:
        fmt_check: passed
        clippy_workspace_deny_warnings: passed
        test_workspace: passed
    batch_6_ws_5_distribution:
      status: completed
      completed_at: "2026-02-20"
      requirements: DST-001, DST-002, DST-003
      scenarios: TM-P25-035, TM-P25-036
      notes:
        - updated CLI crate packaging for crates.io installability (`cargo install eden-skills`) with complete package metadata
        - added crate-local README and versioned core dependency to satisfy publishability constraints
        - introduced release workflow for `v*` tags with version validation and full workspace tests
        - added five-target release matrix with platform-specific archive packaging (`.tar.gz` / `.zip`)
        - added SHA-256 checksum generation and GitHub release asset upload
        - added packaged-binary smoke sequence (`--help`, `init`, `install ... --all`) in release workflow
      quality_gate:
        fmt_check: passed
        clippy_workspace_deny_warnings: passed
        test_workspace: passed
    post_batch_6_agent_support_expansion:
      status: completed
      completed_at: "2026-02-20"
      requirements: AGT-002, AGT-003
      scenarios: TM-P25-026, TM-P25-028
      notes:
        - expanded supported install target aliases to align with skills.sh Supported Agents naming
        - default target paths now derive from `~/` + Project Path convention for newly supported agents
        - extended auto-detection coverage to project-path-derived global agent directories with canonical mapping for shared `.agents` root
        - added regression tests for alias parsing, expanded default path resolution, and updated auto-detection/install target behavior
        - local-path install now stages sources into canonical storage root before target install fan-out
        - remove now performs cleanup of canonical storage entries and scans known local agent roots for stale per-agent installs
        - default `storage.root` now points to `~/.eden-skills/skills` (replacing legacy `~/.local/share/eden-skills/repos`)
      quality_gate:
        fmt_check: passed
        clippy_workspace_deny_warnings: passed
        test_workspace: passed

next_execution_targets:
  - phase25_closeout_readiness_and_tag_release_dry_run

phase1_builder_remaining_index: spec/phase1/PHASE1_BUILDER_REMAINING.md
phase2_builder_remaining_index: spec/phase2/PHASE2_BUILDER_REMAINING.md
